<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>PGN to Secure Password</title>
  
  <!-- External Libraries -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
  <link href="https://fonts.googleapis.com/css?family=Montserrat:400,900" rel="stylesheet">
  <link rel="stylesheet" href="https://unpkg.com/@chrisoakman/chessboardjs@1.0.0/dist/chessboard-1.0.0.min.css">
  
  <!-- Local Styles -->
  <link rel="stylesheet" href="css/style.css">
</head>
<body>
  <div class="container">
    <h1>PGN Password Generator</h1>
    
    <div class="main-content">
      <div class="left-panel">
        <h2><i class="fas fa-edit"></i> PGN Input</h2>
        <textarea id="pgnInput" placeholder="Colle ici ton PGN..."></textarea>
        <div class="controls">
          <div class="slider-container">
            <p>Longueur du mot de passe : <span id="length-label">16</span></p>
            <input type="range" id="length" min="8" max="32" value="16">
          </div>
          <div class="discrete-mode">
            <label>
              <input type="checkbox" id="discrete-mode"> 
              <i class="fas fa-eye-slash"></i> 
              Mode discret (masquer le mot de passe)
            </label>
          </div>
          <button class="generate-btn" onclick="generate()">
            <i class="fas fa-rocket"></i> Générer
          </button>
        </div>
        <div id="password-container">
          <div class="password-display">
            <span id="password-text"></span>
            <button class="copy-btn" onclick="copyPassword()">
              <i class="fas fa-copy"></i>
            </button>
          </div>
        </div>
      </div>
      
      <div class="right-panel">
        <div class="chess-section">
          <h2><i class="fas fa-chess"></i> Échiquier</h2>
          <div class="chess-controls">
            <button class="chess-btn" onclick="loadPgnToBoard()">
              <i class="fas fa-upload"></i> Charger le PGN sur l'échiquier
            </button>
            <button class="chess-btn" onclick="clearBoard()">
              <i class="fas fa-trash"></i> Vider l'échiquier
            </button>
            <button class="chess-btn" onclick="resetBoard()">
              <i class="fas fa-undo"></i> Réinitialiser
            </button>
            <button class="chess-btn" onclick="flipBoard()">
              <i class="fas fa-sync-alt"></i> Retourner l'échiquier
            </button>
          </div>
          
          <div class="move-navigation">
            <p><strong>Navigation des coups :</strong> <span id="move-info">Position initiale</span></p>
            <div class="nav-controls">
              <button class="chess-btn" onclick="goToStart()">
                <i class="fas fa-fast-backward"></i> Début
              </button>
              <button class="chess-btn" onclick="previousMove()">
                <i class="fas fa-step-backward"></i> Précédent
              </button>
              <button class="chess-btn" onclick="nextMove()">
                <i class="fas fa-step-forward"></i> Suivant
              </button>
              <button class="chess-btn" onclick="goToEnd()">
                <i class="fas fa-fast-forward"></i> Fin
              </button>
            </div>
          </div>
          <div class="board-container">
            <div id="chessboard"></div>
          </div>
        </div>
      </div>
    </div>
    
    <div class="instructions-section">
      <h3><i class="fas fa-info-circle"></i> Comment utiliser PGN Password Generator</h3>
      
      <div class="instruction-item">
        <h4><i class="fas fa-key"></i> Qu'est-ce que c'est ?</h4>
        <p>Ce générateur transforme n'importe quelle partie d'échecs (au format PGN) en un mot de passe cryptographiquement sécurisé. Chaque partie unique génère un mot de passe unique et reproductible.</p>
        <div class="security-tip">
          <p><i class="fas fa-shield-alt"></i> Avantage : Vos mots de passe sont basés sur vos parties d'échecs mémorables !</p>
        </div>
      </div>

      <div class="instruction-item">
        <h4><i class="fas fa-paste"></i> Méthode 1 : Coller un PGN existant</h4>
        <p>Si vous avez déjà une partie au format PGN :</p>
        <ul>
          <li>Collez votre PGN dans la zone de texte</li>
          <li>Ajustez la longueur du mot de passe (8-32 caractères)</li>
          <li>Cliquez sur "Generate" pour créer votre mot de passe</li>
          <li>Optionnel : Cliquez "Load PGN to Board" pour visualiser la partie</li>
        </ul>
      </div>

      <div class="instruction-item">
        <h4><i class="fas fa-chess-knight"></i> Méthode 2 : Jouer une partie sur le board</h4>
        <p>Pour créer une nouvelle partie directement :</p>
        <ul>
          <li>Utilisez le board d'échecs ci-dessus pour jouer vos coups</li>
          <li>Déplacez les pièces en cliquant et glissant (drag & drop)</li>
          <li>Le PGN se génère automatiquement dans la zone de texte</li>
          <li>Cliquez "Generate" quand vous êtes satisfait de votre partie</li>
        </ul>
      </div>

      <div class="instruction-item">
        <h4><i class="fas fa-eye"></i> Navigation dans une partie</h4>
        <p>Une fois qu'une partie est chargée sur le board :</p>
        <ul>
          <li>Utilisez les boutons "Start", "Previous", "Next", "End" pour naviguer</li>
          <li>Observez les coups joués étape par étape</li>
          <li>Le compteur de coups s'affiche en temps réel</li>
        </ul>
      </div>

      <div class="instruction-item">
        <h4><i class="fas fa-lock"></i> Sécurité & Reproductibilité</h4>
        <p>Points importants à retenir :</p>
        <ul>
          <li><strong>Déterministe</strong> : La même partie PGN génère toujours le même mot de passe</li>
          <li><strong>Cryptographiquement sécurisé</strong> : Utilise SHA-256 pour le hashing</li>
          <li><strong>Unique</strong> : Chaque partie différente = mot de passe différent</li>
          <li><strong>Mode discret</strong> : Option pour masquer le mot de passe à l'écran</li>
        </ul>
      </div>

      <div class="instruction-item">
        <h4><i class="fas fa-lightbulb"></i> Conseils d'utilisation</h4>
        <ul>
          <li>Sauvegardez vos parties PGN importantes dans un endroit sûr</li>
          <li>Utilisez des parties mémorables pour vous souvenir du mot de passe</li>
          <li>Variez la longueur selon vos besoins de sécurité</li>
          <li>Le mode discret est recommandé dans les espaces publics</li>
        </ul>
      </div>
    </div>
  </div>

  <!-- Toast Notification -->
  <div id="toast" class="toast">Mot de passe copié !</div>

  <!-- External Scripts -->
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/chess.js/0.10.3/chess.min.js"></script>
  <script src="https://unpkg.com/@chrisoakman/chessboardjs@1.0.0/dist/chessboard-1.0.0.min.js"></script>
  
  <!-- Local Scripts -->
  <script src="js/script.js"></script>
</body>
</html>
